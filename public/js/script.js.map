{"version":3,"sources":["add.js","compare.js","contact.js","main.js","vote.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.js","sourcesContent":["function lookingTitle(datas) {\n    var liRes = \"\";\n    $data = $(datas);\n    $data.each(function () {\n        liRes += '<li>';\n        liRes += this.title + ' - ' + this.annee;\n        liRes += '</li>';\n    });\n    liRes += \"<li><a onclick='changeFormAdd();' href='#'>Votre film n'apparaît pas ?</a></li>\";\n    $('ul#results').html(liRes);\n}\n\nfunction changeFormAdd() {\n    $('form#formadd').removeClass('hidden');\n    $('form#search').addClass('hidden');\n    return false;\n}\n\n$(document).ready(function () {\n    $('form#search input#searchtitle').keyup(function () {\n        // On ne fait la recherche qu'à partir de 3 caractères minimum\n        if ($(this).val().length > 2) {\n            var searchKey = $(this).val();\n            console.log(searchKey);\n            $.ajax({\n                url: 'assets/php/searchtitle.php?search=' + searchKey,\n                dataType: 'json',\n                success: function (data) {\n                    lookingTitle(data);\n                }\n            });\n        }\n    })\n    // Vérification Formulaire avant l'envoi\n    $('form#formadd').submit(function () {\n        var okForm = true;\n        var messageError = '';\n        if ($(this).children('input#title').val() == '') {\n            okForm = false;\n            messageError += '<li>Veuillez renseigner un titre.</li>';\n        }\n        if ($(this).children('input#year').val() == '') {\n            okForm = false;\n            messageError += \"<li>Veuillez renseigner une année de production</li>\";\n        }\n        if ($(this).children('input#author').val() == '') {\n            okForm = false;\n            messageError += \"<li>Veuillez renseigner le nom et prénom du réalisateur</li>\";\n        }\n        if ($(this).children('input#fileToUpload').val() == '') {\n            okForm = false;\n            messageError += \"<li>Veuillez ajouter une affiche du film</li>\";\n        }\n        if (okForm == false) {\n            $('ul#error-messages').html(messageError);\n            return false;\n        }\n    })\n\n    // Display search result\n    //$('form#search button[type=\"submit\"]').on('click', function() {\n        var resultsNumber = $('#results li').length;\n\n        //$('form .results-container').removeClass('hidden');\n        $('form h2 big').text(resultsNumber);\n    //});\n});\n","$(document).ready(function () {\n    console.log('heeeey');\n    $.ajax({\n        url: './assets/php/classement.php?wut=good',\n        dataType: 'json',\n        success: function (data) {\n            constructGood(data);\n        }\n    });\n    $.ajax({\n        url: './assets/php/classement.php?wut=bad',\n        dataType: 'json',\n        success: function (data) {\n            constructBad(data);\n        }\n    });\n\n    // Wishlist items\n    $('.wishlist').on('click', function() {\n        if ($(this).hasClass('fa-heart-o')) {\n            $(this).removeClass('fa-heart-o').addClass('wishlisted fa-heart');\n        } else {\n            $(this).removeClass('wishlisted fa-heart').addClass('fa-heart-o');\n        }\n\n        return false;\n    });\n})\n\nfunction constructBad(films) {\n    console.log(films);\n    var i = 1;\n    var ulLi = '';\n    $films = $(films);\n    $films.each(function () {\n        ulLi += '<li>';\n        ulLi += '<div class=\"img-film\" style=\"background-image:url(assets/img/films/' + this.image + ');\"></div>';\n        ulLi += '<p class=\"desc-film\">' + i + ' - ' + this.title + ' <span>( ' + this.annee + ' )</span></p>';\n        ulLi += '</li>';\n        i = i + 1;\n    });\n    $('section#worst ul').html(ulLi);\n}\n\nfunction constructGood(films) {\n    console.log(films);\n    var i = 1;\n    var ulLi = '';\n    $films = $(films);\n    $films.each(function () {\n        ulLi += '<li>';\n        ulLi += '<div class=\"img-film\" style=\"background-image:url(assets/img/films/' + this.image + ');\"></div>';\n        ulLi += '<p class=\"desc-film\">' + i + ' - ' + this.title + ' <span>( ' + this.annee + ' )</span></p>';\n        ulLi += '</li>';\n        i = i + 1;\n    });\n    $('section#best ul').html(ulLi);\n}\n","function validateEmail(email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n// Sur les vieux navigateur il n'y a pas de verifications d'email du coup voici la fonction!!!\n\n$(document).ready(function () {\n    // Vérification formulaire\n    $('form').submit(function () {\n        var errorMsg = '',\n            okSend = true;\n        if ($('#mail').val() == '') {\n            errorMsg += '<li class=\"error\">Votre email est requis.</li>';\n            okSend = false;\n        }\n        if ($('#mail').val()) {\n            var testMail = validateEmail($('#mail').val())\n            if (testMail == false) {\n                errorMsg += '<li class=\"error\">Veuillez vérifier que votre email soit valide.</li>'\n                okSend = false;\n            }\n        }\n        if ($('#sujet').val() == '') {\n            errorMsg = '<li class=\"error\">Veuillez renseigner un sujet.</li>'\n            okSend = false;\n        }\n        if ($('#message').val() == '') {\n            errorMsg = '<li class=\"error\">Veuillez renseigner votre message.</li>'\n            okSend = false;\n        }\n        if (okSend == false) {\n            return false; // Je sais pas si tu sais, mais le return false c'est la nouvelle façon d'écrire event.preventDefault();\n            $('ul#error-msg').html(errorMsg);\n        }\n    });\n});\n","$(document).ready(function () {\n    // Smooth scroll\n    $(function () {\n        $('a[href*=\"#\"]:not([href=\"#\"])').click(function () {\n            if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n                var target = $(this.hash);\n                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n                if (target.length) {\n                    if ($(window).width() >= 768) {\n                        $('html, body').animate({\n                            scrollTop: target.offset().top - 60\n                        }, 500);\n                        return false;\n                    } else {\n                        $('html, body').animate({\n                            scrollTop: target.offset().top - 44\n                        }, 500);\n                        return false;\n                    }\n                }\n            }\n        });\n    });\n\n    // Header styles on scroll\n    window.onload = function () {\n        var scrollTop = $(this).scrollTop();\n\n        if (scrollTop > 0) {\n            $('header').addClass('scrolled');\n        } else {\n            $('header').removeClass('scrolled');\n        }\n        return false;\n    }\n    $(window).scroll(function () {\n        var scrollTop = $(this).scrollTop();\n\n        if (scrollTop > 0) {\n            $('header').addClass('scrolled');\n        } else {\n            $('header').removeClass('scrolled');\n        }\n        return false;\n    });\n\n    // Mobile menu opening {\n    $('.hamburger').on('click', function (e) {\n        e.preventDefault();\n        $(this).toggleClass('active');\n        $('nav').toggleClass('open-menu');\n    });\n\n    // Label animations\n    $('form input, form select, form textarea').blur(function() {\n        if ($(this).val()) {\n            $(this).parents('div').addClass('filled');\n        } else {\n            $(this).parents('div').removeClass('filled');\n        }\n    });\n});\n","// Share Facebook\nwindow.fbAsyncInit = function(){\n    FB.init({\n        appId: '898558203596431',\n        status: true,\n        cookie: true,\n        xfbml: true,\n        version : 'v2.7'\n    });\n};\n\n(function(d, debug){var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];\n    if(d.getElementById(id)) {return;}\n    js = d.createElement('script'); js.id = id;\n    js.async = true;js.src = \"//connect.facebook.net/en_US/all\" + (debug ? \"/debug\" : \"\") + \".js\";\n    ref.parentNode.insertBefore(js, ref);}(document, /*debug*/ false)\n);\nfunction postToFeed(title, url, image){\n    var obj = {method: 'feed',link: 'http://www.simon-tr.com/VoxOffice/', picture: 'http://www.simon-tr.com/VoxOffice/assets/img/films/'+image,name: title,description: \"Et toi, pour quoi aurais-tu voté?\"};\n    function callback(response){\n        if(response.post_id){\n            randFilms();\n        }\n    }\n    FB.ui(obj, callback);\n}\n\n// Fin SDK Fb\nfunction voteFor(link){\n    $.ajax({\n        url: link,\n        success: function (result){\n            if(result){\n                result = eval(result);\n                if(!result[0]){\n                    randFilms();\n                }else{\n                    alert(result[1]);\n                }\n            }else{\n                alert(\"Vous n'êtes pas connecté!\");\n            }\n        }\n    });\n}\n\nfunction randFilms(){\n    $.ajax({\n        url: './assets/php/rand.php',\n        dataType: 'json',\n        success: function (data) {\n            constructPage(data);\n        }\n    });\n}\n\nfunction constructPage(films) {\n    $films = $(films);\n    $.each($films, function(key, value){\n        var i = key + 1;\n        $('article#film' + i + ' div.article-image').css({\n            'background-image': 'url(assets/img/films/' + value.image + ')'\n        });\n        $('article#film' + i + ' h3').html(value.title);\n        $('article#film' + i + ' p.date').html(value.annee);\n        $('article#film' + i + ' p.author em').html(value.author);\n        $('article#film' + i + ' a.btn-vote').attr('href', 'assets/php/addvote.php?id=' + value.id);\n        $('article#film' + i + ' a.btn-share').attr('href', 'assets/php/addvote.php?id=' + value.id).data({\n            'image':value.image,\n            'title':\"J'ai voté pour \"+value.title\n        });\n    });\n}\n\n$(document).ready(function () {\n    randFilms();\n\n    $('a#others').click(function (event) {\n        event.preventDefault();\n        randFilms();\n    });\n\n    $('a.btn-vote').click(function(event){\n        event.preventDefault();\n        var href=$(this).attr('href');\n        voteFor(href);\n    })\n\n    $('.btn-share').click(function(event){\n        event.preventDefault();\n        elem = $(this);\n        postToFeed(elem.data('title'), elem.attr('href'), elem.data('image'));\n    });\n\n    // Blur switch\n    /*$(function() {\n        var input = $('#blurSwitch input');\n\n        $(input).prop('checked', true);\n        $(input).click(blurSwitch);\n    });\n    function blurSwitch() {\n        var blurredImage = $('.vote-container .article-image');\n\n        if (this.checked) {\n            $(blurredImage).attr('checked', true).css({\n                'webkit-filter': 'blur(.8rem)',\n                'filter': 'blur(.8rem)'\n            });\n            $(blurredImage).hover(function() {\n                $(this).css({\n                    'webkit-filter': 'blur(0)',\n                    'filter': 'blur(0)'\n                });\n            });\n        } else {\n            $(blurredImage).removeAttr('checked').css({\n                'webkit-filter': 'blur(0)',\n                'filter': 'blur(0)'\n            });\n        }\n    }*/\n});\n"]}